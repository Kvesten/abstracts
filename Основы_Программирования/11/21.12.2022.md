# Основы программирования

## Функции с начальными(умалчиваемыми) значениями(параметрами).

В C++ существует возможность задать параметру некоторое значение, которое будет автоматически использовано, если при вызове функций, не задаётся аргумент, соответствующий этому параметру.

Аргументы передаваемые по умолчанию можно использовать, чтобы упростить обращение к сложным функциям, а также в качестве сокращённой формы перегрузки функции.

Задание параметров по умолчанию синтаксически аналогично инициализации переменных.

```c
void func(double num = 0.0, char ch = 'X') {
    ...
}

myfunc(192,13, 'A');
myfunc(10.1);
myfunc();
```

Все параметры, которые принимают значения по умолчанию должны быть расположены справа от остальных.

```c
//Неверно
void f(int a = 1, int b);
int myfunc(float f, char *str, int i = 10, int j);
```

## Подставляемые(inline) функции.

Некоторые функции в C++ можно определить с помощью служебного слова ```inline``` такая функция называется <mark>подставляемой</mark> или <mark>встраимовой</mark>.

```c
inline float Line(float x1, float y1, float x2=0, float y2=0) {
    return sqrt(pow(x1-x2, 2)+pow(y1-y2, 2));
}


int main() {
    float D = Line (a1, b1, a2, b2);
}
```

Обрабатывая каждый вызов подставляемой функции, компилятор пытается подставить в текст программы код операторов её тела.

Спецификатор ```inline``` определяет для функции так называемое "Внутренее связывание", которое заключается в том, что, вместо вызова функции подставляются комманды её кода. При этом может увеличиваться размер программы, но исключаются затраты на передачу управления вызываемой функции и возврата из неё.

Подставляемые функции используют, если тело функции состоит из нескольких операторов. Подставляемые !неуслышал! не могут быть.

1. Рекурсивные функции.
2. Функция, у которой вызов размещается до его определения.
3. Функции, которые вызываются более одного раза в выражении.
4. Функции содержащие циклы, переключатели и операторы перехода.

## Функции с переменным числом параметров.

В C++ разрешены функции у которых при компиляции не фиксируется число параметров и кроме того, может быть неизвестен тип параметров. Количество и тип параметров становятся известным, только в момент вызова, когда явно задан список фактических параметров.

Каждая функция с переменным числом параметров должна иметь, хотя бы один обязательный параметр. Определение функции с переменным числом параметров следующая:

```cpp
type_t name(type_t params, ...) {
    ...
}
```

После списка обязательных параметров ставится запятая, а затем многоточие, которое показывает, что дальнейший контроль параметров при обработке вызова функции производить не нужно.

Сложность заключается в определении начала и конца параметров. Поэтому каждая функция с переменным числом параметров должна иметь механизм определения количества и типов параметра. 

Существует два подохода:
1. Известно количество параметров, которое передаётся как обязательный параметр.
2. Известен признак конца списка параметров.

```cpp
float sum(int k, ...) {
    int *p = &k;
    int s = 0; int k1 = k;
    for(; k1!=0; k1--)
        s += *(++p);
    return (float)s/k;
}
```

$\forall X Y \exist L$


